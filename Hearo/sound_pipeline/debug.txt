[DOA] ReSpeaker device found and initialized
[DOA] Initial direction: 242
3. Initializing Sound Separator...
[Separator] Loading AST model: MIT/ast-finetuned-audioset-10-10-0.4593
[Separator] Device: cpu
[Separator] âœ… AST model loaded successfully
4. Initializing LED Controller...
[LED] ReSpeaker device found and initialized
[LED] Started in sleep mode
=== Fast Classification Thread Ready ===
ğŸš€ Fast Classification Thread started!
âœ… Fast Classification Thread started successfully!

ğŸ”„ Starting Source Separation Thread...
ğŸ“¡ Monitoring for sounds above 100dB...
=== Source Separation Thread Initialization ===
1. Initializing DOA Calculator...
ğŸ”´ Will immediately light RED LED for DANGER sounds
Press Ctrl+C to stop
Waiting for sounds above 100dB... (Press Ctrl+C to stop)
[DOA] ReSpeaker device found and initialized
[DOA] Initial direction: 220
2. Initializing Sound Separator...
[Separator] Loading AST model: MIT/ast-finetuned-audioset-10-10-0.4593
[Separator] Device: cpu
Sound detected! (71.3dB) micarray wake up...
Active recordings: 1/2
Recording started...
[Separator] âœ… AST model loaded successfully
3. Initializing LED Controller...
[LED] ReSpeaker device found and initialized
[LED] Started in sleep mode
=== Source Separation Thread Ready ===
ğŸš€ Source Separation Thread started!
âœ… Source Separation Thread started successfully!
ğŸ” Processing queued audio files for separation...

âœ… Dual Thread Sound Pipeline started successfully!
ğŸ“¡ Will send each separated source to backend
ğŸ’¡ Will activate LED for each separated source
ğŸ“¡ Both threads are now running in the same terminal
Press Ctrl+C to stop
ğŸ”´ Fast Classification Thread: Monitors for sounds and lights RED LED for DANGER
ğŸ” Source Separation Thread: Processes queued files and sends to backend

Press Ctrl+C to stop both threads
ë…¹ìŒ ì¢…ë£Œ. íŒŒì¼ ì €ì¥ ì¤‘...
Recording completed. Active recordings: 0/2
Saved: pipeline_output/recordings/triggered_recording_1757468839.wav
Waiting for sounds above 100dB...

ğŸµ Fast classifying: triggered_recording_1757468839.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468839.wav
[Separator] Angle: 210Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Sigh (other)
[Separator] Confidence: 0.482
[Separator] Decibel: 46.8 dB
[Separator] Skipping backend send for 'other' type: Sigh
âœ… OTHER: Sigh (confidence: 0.482)
ğŸ“ Direction: 210Â°
âš¡ Fast classification completed in 1757468844.90s
ğŸ“¤ Sent to separation thread: triggered_recording_1757468839.wav
Waiting for sounds above 100dB... (Press Ctrl+C to stop)

ğŸµ Separating: triggered_recording_1757468839.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468839.wav
[Separator] Angle: 211Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Sigh (other)
[Separator] Confidence: 0.482
[Separator] Decibel: 46.8 dB
[Separator] Skipping backend send for 'other' type: Sigh
âœ… Separation completed: 0 sources
Sound detected! (71.8dB) micarray wake up...
Active recordings: 1/2
Recording started...
ë…¹ìŒ ì¢…ë£Œ. íŒŒì¼ ì €ì¥ ì¤‘...
Recording completed. Active recordings: 0/2
Saved: pipeline_output/recordings/triggered_recording_1757468879.wav
Waiting for sounds above 100dB...

ğŸµ Fast classifying: triggered_recording_1757468879.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468879.wav
[Separator] Angle: 328Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Speech (danger)
[Separator] Confidence: 0.154
[Separator] Decibel: 42.8 dB
ğŸ”„ Sending to backend: None
ğŸ“¤ Data: {'user_id': 6, 'sound_type': 'danger', 'sound_detail': 'Speech', 'angle': 328, 'occurred_at': '2025-09-10T01:48:04Z', 'sound_icon': 'string', 'location_image_url': 'string', 'decibel': 42.813934326171875}
âŒ Backend request error: Invalid URL 'None': No scheme supplied. Perhaps you meant https://None?
ğŸš¨ DANGER DETECTED! Speech (confidence: 0.154)
[LED] DANGER detected: Speech at 328Â° - activating red LED with blinking
[LED] Blinked color 0xFF0000 10 times
ğŸ“ Direction: 328Â°
âš¡ Fast classification completed in 1757468904.09s
ğŸ“¤ Sent to separation thread: triggered_recording_1757468879.wav
Waiting for sounds above 100dB... (Press Ctrl+C to stop)

ğŸµ Separating: triggered_recording_1757468879.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468879.wav
[Separator] Angle: 330Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Speech (danger)
[Separator] Confidence: 0.154
[Separator] Decibel: 42.8 dB
ğŸ”„ Sending to backend: http://13.238.200.232:8000/sound-events/
ğŸ“¤ Data: {'user_id': 6, 'sound_type': 'danger', 'sound_detail': 'Speech', 'angle': 330, 'occurred_at': '2025-09-10T01:48:29Z', 'sound_icon': 'string', 'location_image_url': 'string', 'decibel': 42.813934326171875}
âœ… Sent to backend: Speech (danger) at 330Â°
âœ… Separation completed: 0 sources
Sound detected! (70.6dB) micarray wake up...
Active recordings: 1/2
Recording started...
ë…¹ìŒ ì¢…ë£Œ. íŒŒì¼ ì €ì¥ ì¤‘...
Recording completed. Active recordings: 0/2
Saved: pipeline_output/recordings/triggered_recording_1757468926.wav
Waiting for sounds above 100dB...

ğŸµ Fast classifying: triggered_recording_1757468926.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468926.wav
[Separator] Angle: 238Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Silence (other)
[Separator] Confidence: 0.435
[Separator] Decibel: 50.1 dB
[Separator] Skipping backend send for 'other' type: Silence
âœ… OTHER: Silence (confidence: 0.435)
ğŸ“ Direction: 238Â°
âš¡ Fast classification completed in 1757468931.85s
ğŸ“¤ Sent to separation thread: triggered_recording_1757468926.wav
Waiting for sounds above 100dB... (Press Ctrl+C to stop)

ğŸµ Separating: triggered_recording_1757468926.wav
[Separator] Processing audio: pipeline_output/recordings/triggered_recording_1757468926.wav
[Separator] Angle: 330Â°
[Separator] Audio length: 4.10s
[Separator] Classified: Silence (other)
[Separator] Confidence: 0.435
[Separator] Decibel: 50.1 dB
[Separator] Skipping backend send for 'other' type: Silence
âœ… Separation completed: 0 sources
^Z
